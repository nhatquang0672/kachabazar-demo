"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[963],{9927:function(e,t,s){var n=s(5893),r=(s(7294),s(7484)),a=s.n(r);t.Z=function(e){var t=e.order;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("td",{className:"px-5 py-3 leading-6 whitespace-nowrap",children:(0,n.jsx)("span",{className:"uppercase text-sm font-medium",children:t._id.substring(20,24)})}),(0,n.jsx)("td",{className:"px-5 py-3 leading-6 text-center whitespace-nowrap",children:(0,n.jsx)("span",{className:"text-sm",children:a()(t.createdAt).format("MMMM D, YYYY")})}),(0,n.jsx)("td",{className:"px-5 py-3 leading-6 text-center whitespace-nowrap",children:(0,n.jsx)("span",{className:"text-sm",children:t.paymentMethod})}),(0,n.jsxs)("td",{className:"px-5 py-3 leading-6 text-center whitespace-nowrap font-medium text-sm",children:["Delivered"===t.status&&(0,n.jsx)("span",{className:"text-emerald-500",children:t.status}),"Pending"===t.status&&(0,n.jsx)("span",{className:"text-orange-500",children:t.status}),"Cancel"===t.status&&(0,n.jsx)("span",{className:"text-red-500",children:t.status}),"Processing"===t.status&&(0,n.jsx)("span",{className:"text-indigo-500",children:t.status})]}),(0,n.jsx)("td",{className:"px-5 py-3 leading-6 text-center whitespace-nowrap",children:(0,n.jsxs)("span",{className:"text-sm font-bold",children:["$",Math.round(null===t||void 0===t?void 0:t.total),".00"]})})]})}},885:function(e,t,s){s(1955);var n=s(1163),r=s(7294);t.Z=function(e){var t=(0,r.useState)([]),s=t[0],a=t[1],i=(0,r.useState)([]),l=i[0],d=i[1],o=(0,r.useState)([]),c=o[0],x=o[1],m=(0,r.useState)(""),u=m[0],p=m[1],f=(0,n.useRouter)();return{productData:(0,r.useMemo)((function(){var t=e;if("/user/dashboard"===f.pathname){var s=null===t||void 0===t?void 0:t.filter((function(e){return"Pending"===e.status}));a(s);var n=null===t||void 0===t?void 0:t.filter((function(e){return"Processing"===e.status}));d(n);var r=null===t||void 0===t?void 0:t.filter((function(e){return"Delivered"===e.status}));x(r)}return"Low"===u&&(t=null===t||void 0===t?void 0:t.sort((function(e,t){return e.price<t.price&&-1}))),"High"===u&&(t=null===t||void 0===t?void 0:t.sort((function(e,t){return e.price>t.price&&-1}))),t}),[u,e]),pending:s,processing:l,delivered:c,setSortedField:p}}},6963:function(e,t,s){s.r(t),s.d(t,{default:function(){return y}});var n=s(5893),r=s(1955),a=s(5152),i=s.n(a),l=s(1664),d=s.n(l),o=s(1163),c=s(7294),x=s(155),m=s(6893),u=s(1388),p=(s(4351),s(885),s(3214)),f=function(e){var t=e.title,s=e.Icon,r=e.quantity,a=e.className;return(0,n.jsx)("div",{className:"flex h-full",children:(0,n.jsxs)("div",{className:"flex items-center border border-gray-200 w-full rounded-lg p-4",children:[(0,n.jsx)("div",{className:"flex items-center justify-center p-3 rounded-full h-12 w-12 text-xl text-center mr-4 ".concat(a),children:(0,n.jsx)(s,{})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h5",{className:"leading-none mb-2 text-base font-medium font-serif text-gray-700",children:t}),(0,n.jsx)("p",{className:"text-xl font-bold font-serif leading-none text-gray-800",children:r})]})]})})},h=s(6896),g=s(3768),v=s(1459),j=s(7053),N=s(4031),b=function(e){var t=e.title,s=e.description,a=e.children,i=(0,o.useRouter)(),l=(0,c.useContext)(h.S),b=l.dispatch,y=l.state.userInfo,w=(0,c.useContext)(j.l),k=w.isLoading,C=w.setIsLoading,Z=w.currentPage,O=(0,c.useState)({}),P=O[0],I=O[1],L=(0,c.useState)(""),D=L[0],S=L[1],M=(0,c.useState)(!0),_=M[0],q=M[1];(0,c.useEffect)((function(){g.Z.getOrderByUser({page:Z,limit:8}).then((function(e){I(e),q(!1)})).catch((function(e){q(!1),S(e.message)}))}),[Z]);return(0,c.useEffect)((function(){C(!1),y||i.push("/")}),[y]),console.log("dashbaord"),(0,n.jsx)(n.Fragment,{children:k?(0,n.jsx)(N.Z,{loading:k}):(0,n.jsx)(u.Z,{title:t||"Dashboard",description:s||"This is User Dashboard",children:(0,n.jsx)("div",{className:"mx-auto max-w-screen-2xl px-3 sm:px-10",children:(0,n.jsxs)("div",{className:"py-10 lg:py-12 flex flex-col lg:flex-row w-full",children:[(0,n.jsx)("div",{className:"flex-shrink-0 w-full lg:w-80 mr-7 lg:mr-10 xl:mr-10 ",children:(0,n.jsxs)("div",{className:"bg-white p-4 sm:p-5 lg:p-8 rounded-md sticky top-32",children:[p.kR.map((function(e){return(0,n.jsxs)("span",{className:"p-2 my-2 flex font-serif items-center rounded-md hover:bg-gray-50 w-full hover:text-emerald-600",children:[(0,n.jsx)(e.icon,{className:"flex-shrink-0 h-4 w-4","aria-hidden":"true"}),(0,n.jsx)(d(),{href:e.href,children:(0,n.jsx)("a",{className:"inline-flex items-center justify-between ml-2 text-sm font-medium w-full hover:text-emerald-600",children:e.title})})]},e.title)})),(0,n.jsxs)("span",{className:"p-2 flex font-serif items-center rounded-md hover:bg-gray-50 w-full hover:text-emerald-600",children:[(0,n.jsx)("span",{className:"mr-2",children:(0,n.jsx)(x.Cv_,{})})," ",(0,n.jsx)("button",{onClick:function(){b({type:"USER_LOGOUT"}),r.Z.remove("userInfo"),r.Z.remove("couponInfo"),i.push("/")},className:"inline-flex items-center justify-between text-sm font-medium w-full hover:text-emerald-600",children:"Logout"})]})]})}),(0,n.jsxs)("div",{className:"w-full bg-white mt-4 lg:mt-0 p-4 sm:p-5 lg:p-8 rounded-md overflow-hidden",children:[!a&&(0,n.jsxs)("div",{className:"overflow-hidden",children:[(0,n.jsx)("h2",{className:"text-xl font-serif font-semibold mb-5",children:"Dashboard"}),(0,n.jsxs)("div",{className:"grid gap-4 mb-8 md:grid-cols-2 xl:grid-cols-4",children:[(0,n.jsx)(f,{title:"Total Order",Icon:m.Qyq,quantity:null===P||void 0===P?void 0:P.totalDoc,className:"text-red-600 bg-red-200"}),(0,n.jsx)(f,{title:"Pending Order",Icon:m.Bw1,quantity:null===P||void 0===P?void 0:P.pending,className:"text-orange-600 bg-orange-200"}),(0,n.jsx)(f,{title:"Processing Order",Icon:m.C4B,quantity:null===P||void 0===P?void 0:P.processing,className:"text-indigo-600 bg-indigo-200"}),(0,n.jsx)(f,{title:"Complete Order",Icon:m.UgA,quantity:null===P||void 0===P?void 0:P.delivered,className:"text-emerald-600 bg-emerald-200"})]}),(0,n.jsx)(v.default,{data:P,loading:_,error:D})]}),a]})]})})})})},y=i()((function(){return Promise.resolve(b)}),{ssr:!1})},1459:function(e,t,s){s.r(t);var n=s(5893),r=s(7294),a=s(155),i=s(1358),l=s.n(i),d=s(7053),o=s(4031),c=s(9927);t.default=function(e){var t,s,i=e.data,x=e.loading,m=e.error,u=(0,r.useContext)(d.l).handleChangePage,p=Math.ceil((null===i||void 0===i?void 0:i.totalDoc)/8);return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:"max-w-screen-2xl mx-auto",children:(0,n.jsx)("div",{className:"rounded-md font-serif",children:x?(0,n.jsx)(o.Z,{loading:x}):m?(0,n.jsx)("h2",{className:"text-xl text-center my-10 mx-auto w-11/12 text-red-400",children:m}):0===(null===i||void 0===i||null===(t=i.orders)||void 0===t?void 0:t.length)?(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("span",{className:"flex justify-center my-30 pt-16 text-emerald-500 font-semibold text-6xl",children:(0,n.jsx)(a.c77,{})}),(0,n.jsx)("h2",{className:"font-medium text-md my-4 text-gray-600",children:"You Have no order Yet!"})]}):(0,n.jsxs)("div",{className:"flex flex-col",children:[(0,n.jsx)("h3",{className:"text-lg font-serif font-medium mb-5",children:"Recent Order"}),(0,n.jsx)("div",{className:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8",children:(0,n.jsx)("div",{className:"align-middle inline-block border border-gray-100 rounded-md min-w-full pb-2 sm:px-6 lg:px-8",children:(0,n.jsxs)("div",{className:"overflow-hidden border-b last:border-b-0 border-gray-100 rounded-md",children:[(0,n.jsxs)("table",{className:"table-auto min-w-full border border-gray-100 divide-y divide-gray-200",children:[(0,n.jsx)("thead",{className:"bg-gray-50",children:(0,n.jsxs)("tr",{className:"bg-gray-100",children:[(0,n.jsx)("th",{scope:"col",className:"text-left text-xs font-serif font-semibold px-6 py-2 text-gray-700 uppercase tracking-wider",children:"ID"}),(0,n.jsx)("th",{scope:"col",className:"text-center text-xs font-serif font-semibold px-6 py-2 text-gray-700 uppercase tracking-wider",children:"OrderTime"}),(0,n.jsx)("th",{scope:"col",className:"text-center text-xs font-serif font-semibold px-6 py-2 text-gray-700 uppercase tracking-wider",children:"Method"}),(0,n.jsx)("th",{scope:"col",className:"text-center text-xs font-serif font-semibold px-6 py-2 text-gray-700 uppercase tracking-wider",children:"Status"}),(0,n.jsx)("th",{scope:"col",className:"text-center text-xs font-serif font-semibold px-6 py-2 text-gray-700 uppercase tracking-wider",children:"Total"})]})}),(0,n.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:null===i||void 0===i||null===(s=i.orders)||void 0===s?void 0:s.map((function(e){return(0,n.jsx)("tr",{children:(0,n.jsx)(c.Z,{order:e})},e._id)}))})]}),(0,n.jsx)("div",{className:"paginationOrder",children:(0,n.jsx)(l(),{breakLabel:"...",nextLabel:"Next",onPageChange:function(e){return u(e.selected+1)},pageRangeDisplayed:3,pageCount:p,previousLabel:"Previous",renderOnZeroPageCount:null,pageClassName:"page--item",pageLinkClassName:"page--link",previousClassName:"page-item",previousLinkClassName:"page-previous-link",nextClassName:"page-item",nextLinkClassName:"page-next-link",breakClassName:"page--item",breakLinkClassName:"page--link",containerClassName:"pagination",activeClassName:"activePagination"})})]})})})]})})})})}},3768:function(e,t,s){var n=s(71),r={addOrder:function(e,t){return n.Z.post("/order/add",e,t)},createPaymentIntent:function(e){return n.Z.post("/order/create-payment-intent",e)},getOrderByUser:function(e){var t=e.page,s=void 0===t?1:t,r=e.limit,a=void 0===r?8:r;return n.Z.get("/order?limit=".concat(a,"&page=").concat(s))},getOrderById:function(e,t){return n.Z.get("/order/".concat(e),t)}};t.Z=r}}]);