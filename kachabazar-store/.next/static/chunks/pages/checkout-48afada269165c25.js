(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[222],{7484:function(e){e.exports=function(){"use strict";var e=1e3,t=6e4,s=36e5,n="millisecond",r="second",i="minute",a="hour",o="day",l="week",c="month",d="quarter",u="year",m="date",h="Invalid Date",f=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,p=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,x={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],s=e%100;return"["+e+(t[(s-20)%10]||t[s]||t[0])+"]"}},g=function(e,t,s){var n=String(e);return!n||n.length>=t?e:""+Array(t+1-n.length).join(s)+e},y={s:g,z:function(e){var t=-e.utcOffset(),s=Math.abs(t),n=Math.floor(s/60),r=s%60;return(t<=0?"+":"-")+g(n,2,"0")+":"+g(r,2,"0")},m:function e(t,s){if(t.date()<s.date())return-e(s,t);var n=12*(s.year()-t.year())+(s.month()-t.month()),r=t.clone().add(n,c),i=s-r<0,a=t.clone().add(n+(i?-1:1),c);return+(-(n+(s-r)/(i?r-a:a-r))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:c,y:u,w:l,d:o,D:m,h:a,m:i,s:r,ms:n,Q:d}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},v="en",j={};j[v]=x;var N=function(e){return e instanceof w},b=function e(t,s,n){var r;if(!t)return v;if("string"==typeof t){var i=t.toLowerCase();j[i]&&(r=i),s&&(j[i]=s,r=i);var a=t.split("-");if(!r&&a.length>1)return e(a[0])}else{var o=t.name;j[o]=t,r=o}return!n&&r&&(v=r),r||!n&&v},$=function(e,t){if(N(e))return e.clone();var s="object"==typeof t?t:{};return s.date=e,s.args=arguments,new w(s)},S=y;S.l=b,S.i=N,S.w=function(e,t){return $(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var w=function(){function x(e){this.$L=b(e.locale,null,!0),this.parse(e)}var g=x.prototype;return g.parse=function(e){this.$d=function(e){var t=e.date,s=e.utc;if(null===t)return new Date(NaN);if(S.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var n=t.match(f);if(n){var r=n[2]-1||0,i=(n[7]||"0").substring(0,3);return s?new Date(Date.UTC(n[1],r,n[3]||1,n[4]||0,n[5]||0,n[6]||0,i)):new Date(n[1],r,n[3]||1,n[4]||0,n[5]||0,n[6]||0,i)}}return new Date(t)}(e),this.$x=e.x||{},this.init()},g.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},g.$utils=function(){return S},g.isValid=function(){return!(this.$d.toString()===h)},g.isSame=function(e,t){var s=$(e);return this.startOf(t)<=s&&s<=this.endOf(t)},g.isAfter=function(e,t){return $(e)<this.startOf(t)},g.isBefore=function(e,t){return this.endOf(t)<$(e)},g.$g=function(e,t,s){return S.u(e)?this[t]:this.set(s,e)},g.unix=function(){return Math.floor(this.valueOf()/1e3)},g.valueOf=function(){return this.$d.getTime()},g.startOf=function(e,t){var s=this,n=!!S.u(t)||t,d=S.p(e),h=function(e,t){var r=S.w(s.$u?Date.UTC(s.$y,t,e):new Date(s.$y,t,e),s);return n?r:r.endOf(o)},f=function(e,t){return S.w(s.toDate()[e].apply(s.toDate("s"),(n?[0,0,0,0]:[23,59,59,999]).slice(t)),s)},p=this.$W,x=this.$M,g=this.$D,y="set"+(this.$u?"UTC":"");switch(d){case u:return n?h(1,0):h(31,11);case c:return n?h(1,x):h(0,x+1);case l:var v=this.$locale().weekStart||0,j=(p<v?p+7:p)-v;return h(n?g-j:g+(6-j),x);case o:case m:return f(y+"Hours",0);case a:return f(y+"Minutes",1);case i:return f(y+"Seconds",2);case r:return f(y+"Milliseconds",3);default:return this.clone()}},g.endOf=function(e){return this.startOf(e,!1)},g.$set=function(e,t){var s,l=S.p(e),d="set"+(this.$u?"UTC":""),h=(s={},s[o]=d+"Date",s[m]=d+"Date",s[c]=d+"Month",s[u]=d+"FullYear",s[a]=d+"Hours",s[i]=d+"Minutes",s[r]=d+"Seconds",s[n]=d+"Milliseconds",s)[l],f=l===o?this.$D+(t-this.$W):t;if(l===c||l===u){var p=this.clone().set(m,1);p.$d[h](f),p.init(),this.$d=p.set(m,Math.min(this.$D,p.daysInMonth())).$d}else h&&this.$d[h](f);return this.init(),this},g.set=function(e,t){return this.clone().$set(e,t)},g.get=function(e){return this[S.p(e)]()},g.add=function(n,d){var m,h=this;n=Number(n);var f=S.p(d),p=function(e){var t=$(h);return S.w(t.date(t.date()+Math.round(e*n)),h)};if(f===c)return this.set(c,this.$M+n);if(f===u)return this.set(u,this.$y+n);if(f===o)return p(1);if(f===l)return p(7);var x=(m={},m[i]=t,m[a]=s,m[r]=e,m)[f]||1,g=this.$d.getTime()+n*x;return S.w(g,this)},g.subtract=function(e,t){return this.add(-1*e,t)},g.format=function(e){var t=this,s=this.$locale();if(!this.isValid())return s.invalidDate||h;var n=e||"YYYY-MM-DDTHH:mm:ssZ",r=S.z(this),i=this.$H,a=this.$m,o=this.$M,l=s.weekdays,c=s.months,d=function(e,s,r,i){return e&&(e[s]||e(t,n))||r[s].slice(0,i)},u=function(e){return S.s(i%12||12,e,"0")},m=s.meridiem||function(e,t,s){var n=e<12?"AM":"PM";return s?n.toLowerCase():n},f={YY:String(this.$y).slice(-2),YYYY:this.$y,M:o+1,MM:S.s(o+1,2,"0"),MMM:d(s.monthsShort,o,c,3),MMMM:d(c,o),D:this.$D,DD:S.s(this.$D,2,"0"),d:String(this.$W),dd:d(s.weekdaysMin,this.$W,l,2),ddd:d(s.weekdaysShort,this.$W,l,3),dddd:l[this.$W],H:String(i),HH:S.s(i,2,"0"),h:u(1),hh:u(2),a:m(i,a,!0),A:m(i,a,!1),m:String(a),mm:S.s(a,2,"0"),s:String(this.$s),ss:S.s(this.$s,2,"0"),SSS:S.s(this.$ms,3,"0"),Z:r};return n.replace(p,(function(e,t){return t||f[e]||r.replace(":","")}))},g.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},g.diff=function(n,m,h){var f,p=S.p(m),x=$(n),g=(x.utcOffset()-this.utcOffset())*t,y=this-x,v=S.m(this,x);return v=(f={},f[u]=v/12,f[c]=v,f[d]=v/3,f[l]=(y-g)/6048e5,f[o]=(y-g)/864e5,f[a]=y/s,f[i]=y/t,f[r]=y/e,f)[p]||y,h?v:S.a(v)},g.daysInMonth=function(){return this.endOf(c).$D},g.$locale=function(){return j[this.$L]},g.locale=function(e,t){if(!e)return this.$L;var s=this.clone(),n=b(e,t,!0);return n&&(s.$L=n),s},g.clone=function(){return S.w(this.$d,this)},g.toDate=function(){return new Date(this.valueOf())},g.toJSON=function(){return this.isValid()?this.toISOString():null},g.toISOString=function(){return this.$d.toISOString()},g.toString=function(){return this.$d.toUTCString()},x}(),C=w.prototype;return $.prototype=C,[["$ms",n],["$s",r],["$m",i],["$H",a],["$W",o],["$M",c],["$y",u],["$D",m]].forEach((function(e){C[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),$.extend=function(e,t){return e.$i||(e(t,w,$),e.$i=!0),$},$.locale=b,$.isDayjs=N,$.unix=function(e){return $(1e3*e)},$.en=j[v],$.Ls=j,$.p={},$}()},5248:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/checkout",function(){return s(7645)}])},7645:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return E}});var n=s(5893),r=s(7294),i=s(5152),a=s.n(i),o=s(6664),l=s(1664),c=s.n(l),d=s(155),u=s(3990),m=s(1388),h=s(1473),f=s(1691),p=s(8551),x=s(97),g=s(6042),y=s(9396),v=s(6893),j=function(e){var t=e.register,s=e.value,r=e.time,i=e.cost,a=e.handleShippingCost;return(0,n.jsx)("div",{children:(0,n.jsx)("div",{className:"p-3 card border border-gray-200 bg-white rounded-md",children:(0,n.jsx)("label",{className:"cursor-pointer label",children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)("span",{className:"text-2xl mr-3 text-gray-400",children:(0,n.jsx)(v.C4B,{})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h6",{className:"font-serif font-medium text-sm text-gray-600",children:s}),(0,n.jsxs)("p",{className:"text-xs text-gray-500 font-medium",children:["Delivery: ",r," ",(0,n.jsxs)("span",{className:"font-medium text-gray-600",children:["Cost : $",i,".00"]})]})]})]}),(0,n.jsx)("input",(0,y.Z)((0,g.Z)({onClick:function(){return a(i)}},t("shippingOption",{required:"Shipping Option is required!"})),{name:"shippingOption",type:"radio",value:s,className:"form-radio outline-none focus:ring-0 text-emerald-500"}))]})})})})},N=function(e){var t=e.register,s=e.Icon,r=e.name,i=e.value,a=e.setShowCard;return(0,n.jsx)("div",{className:"px-3 py-4 card border border-gray-200 bg-white rounded-md",children:(0,n.jsx)("label",{className:"cursor-pointer label",children:(0,n.jsxs)("div",{className:"flex item-center justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)("span",{className:"text-xl mr-3 text-gray-400",children:(0,n.jsx)(s,{})}),(0,n.jsx)("h6",{className:"font-serif font-medium text-sm text-gray-600",children:r})]}),(0,n.jsx)("input",(0,y.Z)((0,g.Z)({onClick:function(){return a("Card"===i)}},t("paymentMethod",{required:"Payment Method is required!"})),{type:"radio",value:i,name:"paymentMethod",className:"form-radio outline-none focus:ring-0 text-emerald-500"}))]})})})};function b(e,t,s,n,r,i,a){try{var o=e[i](a),l=o.value}catch(c){return void s(c)}o.done?t(l):Promise.resolve(l).then(n,r)}function $(e){return function(){var t=this,s=arguments;return new Promise((function(n,r){var i=e.apply(t,s);function a(e){b(i,n,r,a,o,"next",e)}function o(e){b(i,n,r,a,o,"throw",e)}a(void 0)}))}}var S=s(655),w=s(1955),C=s(7484),M=s(1163),Z=s(7536),D=s(870),O=s(4351),_=s(6896),I=s(3768),A=s(1722),P=s(8965),T=function(){var e=(0,r.useContext)(_.S),t=e.state,s=t.userInfo,n=t.shippingAddress,i=e.dispatch,a=(0,r.useState)(""),l=a[0],c=a[1],d=(0,r.useState)(""),u=d[0],m=d[1],h=(0,r.useState)({}),f=h[0],p=h[1],x=(0,r.useState)(0),v=x[0],j=x[1],N=(0,r.useState)(!1),b=N[0],T=N[1],k=(0,r.useState)(0),E=k[0],Y=k[1],H=(0,r.useState)(0),B=H[0],L=H[1],F=(0,r.useState)(0),U=F[0],z=F[1],W=(0,r.useState)(""),J=W[0],q=W[1],V=(0,r.useState)(!1),R=V[0],X=V[1],G=(0,M.useRouter)(),K=(0,o.useStripe)(),Q=(0,o.useElements)(),ee=(0,r.useRef)(""),te=(0,D.jD)(),se=te.isEmpty,ne=te.emptyCart,re=te.items,ie=te.cartTotal,ae=(0,Z.cI)(),oe=ae.register,le=ae.handleSubmit,ce=ae.setValue,de=ae.formState.errors,ue=(0,O.Z)(A.Z.getAllCoupons).data;(0,r.useEffect)((function(){if(w.Z.get("couponInfo")){var e=JSON.parse(w.Z.get("couponInfo"));p(e),z(e.discountPercentage),j(e.minimumAmount)}}),[]),(0,r.useEffect)((function(){(v-B>u||se)&&(z(0),w.Z.remove("couponInfo"))}),[v,u]),(0,r.useEffect)((function(){var e,t=null===re||void 0===re?void 0:re.filter((function(e){return e.type===J})),s=null===t||void 0===t?void 0:t.reduce((function(e,t){return e+t.itemTotal}),0),n=(ie+E).toFixed(2),r=s*(U/100);e=n-r,L(r),m(e)}),[ie,E,U]),(0,r.useEffect)((function(){s||G.push("/"),ce("firstName",n.firstName),ce("lastName",n.lastName),ce("address",n.address),ce("contact",n.contact),ce("email",n.email),ce("city",n.city),ce("country",n.country),ce("zipCode",n.zipCode)}),[]);var me=function(){var e=$((function(e){var t,s,n,r,a;return(0,S.__generator)(this,(function(l){switch(l.label){case 0:return i({type:"SAVE_SHIPPING_ADDRESS",payload:e}),w.Z.set("shippingAddress",JSON.stringify(e)),X(!0),c(""),t={name:"".concat(e.firstName," ").concat(e.lastName),address:e.address,contact:e.contact,email:e.email,city:e.city,country:e.country,zipCode:e.zipCode,shippingOption:e.shippingOption,paymentMethod:e.paymentMethod,status:"Pending",cart:re,subTotal:ie,shippingCost:E,discount:B,total:u},"Card"!==e.paymentMethod?[3,2]:K&&Q?[4,K.createPaymentMethod({type:"card",card:Q.getElement(o.CardElement)})]:[2];case 1:if(s=l.sent(),n=s.error,r=s.paymentMethod,console.log("error",n),!n||r)return c(""),a=(0,y.Z)((0,g.Z)({},t),{cardInfo:r}),he(a),[2];c(n.message),X(!1),l.label=2;case 2:return"COD"===e.paymentMethod&&I.Z.addOrder(t).then((function(e){G.push("/order/".concat(e._id)),(0,P.t5)("Your Order Confirmed!"),w.Z.remove("couponInfo"),sessionStorage.removeItem("products"),ne(),X(!1)})).catch((function(e){(0,P.cB)(e.message),X(!1)})),[2]}}))}));return function(t){return e.apply(this,arguments)}}(),he=function(){var e=$((function(e){var t,s;return(0,S.__generator)(this,(function(n){try{I.Z.createPaymentIntent(e).then((function(t){K.confirmCardPayment(t.client_secret,{payment_method:{card:Q.getElement(o.CardElement)}});var s=(0,y.Z)((0,g.Z)({},e),{cardInfo:t});I.Z.addOrder(s).then((function(e){G.push("/order/".concat(e._id)),(0,P.t5)("Your Order Confirmed!"),w.Z.remove("couponInfo"),ne(),sessionStorage.removeItem("products"),X(!1)})).catch((function(e){var t,s;(0,P.cB)(e?null===e||void 0===e||null===(t=e.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.message:e.message),X(!1)}))})).catch((function(e){var t,s;console.log("err on creating payment intent",e.message),(0,P.cB)(e?null===e||void 0===e||null===(t=e.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.message:e.message),X(!1)}))}catch(r){console.log("err",null===r||void 0===r?void 0:r.message),(0,P.cB)(r?null===r||void 0===r||null===(t=r.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.message:r.message),X(!1)}return[2]}))}));return function(t){return e.apply(this,arguments)}}();return{handleSubmit:le,submitHandler:me,handleShippingCost:function(e){Y(e)},register:oe,errors:de,showCard:b,setShowCard:T,error:l,stripe:K,couponInfo:f,couponRef:ee,handleCouponCode:function(e){var t,s;if(e.preventDefault(),ee.current.value){var n,r=ue.filter((function(e){return e.couponCode===ee.current.value}));if(r.length<1)(0,P.cB)("Please Input a Valid Coupon!");else if(C().isAfter(C(null===(t=r[0])||void 0===t?void 0:t.endTime)))(0,P.cB)("This coupon is not valid!");else if(u<(null===(s=r[0])||void 0===s?void 0:s.minimumAmount))(0,P.cB)("Minimum ".concat(r[0].minimumAmount," USD required for Apply this coupon!"));else(0,P.t5)("Your Coupon ".concat(r[0].title," is Applied on ").concat(r[0].productType,"!")),j(null===(n=r[0])||void 0===n?void 0:n.minimumAmount),q(r[0].productType),z(r[0].discountPercentage),i({type:"SAVE_COUPON",payload:r[0]}),w.Z.set("couponInfo",JSON.stringify(r[0]))}else(0,P.cB)("Please Input a Coupon Code!")},discountPercentage:U,discountAmount:B,shippingCost:E,total:u,isEmpty:se,items:re,cartTotal:ie,isCheckoutSubmit:R}},k=function(){var e=T(),t=e.handleSubmit,s=e.submitHandler,r=e.handleShippingCost,i=e.register,a=e.errors,l=e.showCard,g=e.setShowCard,y=e.error,v=e.stripe,b=e.couponInfo,$=e.couponRef,S=e.handleCouponCode,w=e.discountAmount,C=e.shippingCost,M=e.total,Z=e.isEmpty,D=e.items,O=e.cartTotal,_=e.isCheckoutSubmit;return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(m.Z,{title:"Checkout",description:"this is checkout page",children:(0,n.jsx)("div",{className:"mx-auto max-w-screen-2xl px-3 sm:px-10",children:(0,n.jsxs)("div",{className:"py-10 lg:py-12 px-0 2xl:max-w-screen-2xl w-full xl:max-w-screen-xl flex flex-col md:flex-row lg:flex-row",children:[(0,n.jsx)("div",{className:"md:w-full lg:w-3/5 flex h-full flex-col order-2 sm:order-1 lg:order-1",children:(0,n.jsx)("div",{className:"mt-5 md:mt-0 md:col-span-2",children:(0,n.jsxs)("form",{onSubmit:t(s),children:[(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("h2",{className:"font-semibold font-serif text-base text-gray-700 pb-3",children:"01. Personal Details"}),(0,n.jsxs)("div",{className:"grid grid-cols-6 gap-6",children:[(0,n.jsxs)("div",{className:"col-span-6 sm:col-span-3",children:[(0,n.jsx)(x.Z,{register:i,label:"First Name",name:"firstName",type:"text",placeholder:"John"}),(0,n.jsx)(f.Z,{errorName:a.firstName})]}),(0,n.jsxs)("div",{className:"col-span-6 sm:col-span-3",children:[(0,n.jsx)(x.Z,{register:i,label:"Last name",name:"lastName",type:"text",placeholder:"Doe"}),(0,n.jsx)(f.Z,{errorName:a.lastName})]}),(0,n.jsxs)("div",{className:"col-span-6 sm:col-span-3",children:[(0,n.jsx)(x.Z,{register:i,label:"Email address",name:"email",type:"email",placeholder:"youremail@gmail.com"}),(0,n.jsx)(f.Z,{errorName:a.email})]}),(0,n.jsxs)("div",{className:"col-span-6 sm:col-span-3",children:[(0,n.jsx)(x.Z,{register:i,label:"Phone number",name:"contact",type:"tel",placeholder:"+062-6532956"}),(0,n.jsx)(f.Z,{errorName:a.contact})]})]})]}),(0,n.jsxs)("div",{className:"form-group mt-12",children:[(0,n.jsx)("h2",{className:"font-semibold font-serif text-base text-gray-700 pb-3",children:"02. Shipping Details"}),(0,n.jsxs)("div",{className:"grid grid-cols-6 gap-6 mb-8",children:[(0,n.jsxs)("div",{className:"col-span-6",children:[(0,n.jsx)(x.Z,{register:i,label:"Street address",name:"address",type:"text",placeholder:"123 Boulevard Rd, Beverley Hills"}),(0,n.jsx)(f.Z,{errorName:a.address})]}),(0,n.jsxs)("div",{className:"col-span-6 sm:col-span-6 lg:col-span-2",children:[(0,n.jsx)(x.Z,{register:i,label:"City",name:"city",type:"text",placeholder:"Los Angeles"}),(0,n.jsx)(f.Z,{errorName:a.city})]}),(0,n.jsxs)("div",{className:"col-span-6 sm:col-span-3 lg:col-span-2",children:[(0,n.jsx)(x.Z,{register:i,label:"Country",name:"country",type:"text",placeholder:"United States"}),(0,n.jsx)(f.Z,{errorName:a.country})]}),(0,n.jsxs)("div",{className:"col-span-6 sm:col-span-3 lg:col-span-2",children:[(0,n.jsx)(x.Z,{register:i,label:"ZIP / Postal",name:"zipCode",type:"text",placeholder:"2345"}),(0,n.jsx)(f.Z,{errorName:a.zipCode})]})]}),(0,n.jsx)(h.Z,{label:"Shipping Cost"}),(0,n.jsxs)("div",{className:"grid grid-cols-6 gap-6",children:[(0,n.jsxs)("div",{className:"col-span-6 sm:col-span-3",children:[(0,n.jsx)(j,{handleShippingCost:r,register:i,value:"FedEx",time:"Today",cost:60}),(0,n.jsx)(f.Z,{errorName:a.shippingOption})]}),(0,n.jsxs)("div",{className:"col-span-6 sm:col-span-3",children:[(0,n.jsx)(j,{handleShippingCost:r,register:i,value:"UPS",time:"7 Days",cost:20}),(0,n.jsx)(f.Z,{errorName:a.shippingOption})]})]})]}),(0,n.jsxs)("div",{className:"form-group mt-12",children:[(0,n.jsx)("h2",{className:"font-semibold font-serif text-base text-gray-700 pb-3",children:"03. Payment Details"}),l&&(0,n.jsxs)("div",{className:"mb-3",children:[(0,n.jsx)(o.CardElement,{})," ",(0,n.jsx)("p",{className:"text-red-400 text-sm mt-1",children:y})]}),(0,n.jsxs)("div",{className:"grid grid-cols-6 gap-6",children:[(0,n.jsxs)("div",{className:"col-span-6 sm:col-span-3",children:[(0,n.jsx)(N,{setShowCard:g,register:i,name:"Cash On Delivery",value:"COD",Icon:d.Kau}),(0,n.jsx)(f.Z,{errorName:a.paymentMethod})]}),(0,n.jsxs)("div",{className:"col-span-6 sm:col-span-3",children:[(0,n.jsx)(N,{setShowCard:g,register:i,name:"Credit Card",value:"Card",Icon:u.hoO}),(0,n.jsx)(f.Z,{errorName:a.paymentMethod})]})]})]}),(0,n.jsxs)("div",{className:"grid grid-cols-6 gap-4 lg:gap-6 mt-10",children:[(0,n.jsx)("div",{className:"col-span-6 sm:col-span-3",children:(0,n.jsx)(c(),{href:"/",children:(0,n.jsxs)("a",{className:"bg-indigo-50 border border-indigo-100 rounded py-3 text-center text-sm font-medium text-gray-700 hover:text-gray-800 hover:border-gray-300 transition-all flex justify-center font-serif w-full",children:[(0,n.jsx)("span",{className:"text-xl mr-2",children:(0,n.jsx)(d.diL,{})}),"Continue Shopping"]})})}),(0,n.jsx)("div",{className:"col-span-6 sm:col-span-3",children:(0,n.jsx)("button",{type:"submit",disabled:Z||!v||_,className:"bg-emerald-500 hover:bg-emerald-600 border border-emerald-500 transition-all rounded py-3 text-center text-sm font-serif font-medium text-white flex justify-center w-full",children:_?(0,n.jsxs)("span",{className:"flex justify-center text-center",children:[" ",(0,n.jsx)("img",{src:"/spinner.gif",alt:"Loading",width:20,height:10})," ",(0,n.jsx)("span",{className:"ml-2",children:"Processing"})]}):(0,n.jsxs)("span",{className:"flex justify-center text-center",children:[" ","Confirm",(0,n.jsxs)("span",{className:"text-xl ml-2",children:[" ",(0,n.jsx)(d.qvS,{})]})]})})})]})]})})}),(0,n.jsx)("div",{className:"md:w-full lg:w-2/5 lg:ml-10 xl:ml-14 md:ml-6 flex flex-col h-full md:sticky lg:sticky top-28 md:order-2 lg:order-2",children:(0,n.jsxs)("div",{className:"border p-5 lg:px-8 lg:py-8 rounded-lg bg-white order-1 sm:order-2",children:[(0,n.jsx)("h2",{className:"font-semibold font-serif text-lg pb-4",children:"Order Summary"}),(0,n.jsxs)("div",{className:"overflow-y-scroll flex-grow scrollbar-hide w-full max-h-64 bg-gray-50 block",children:[D.map((function(e){return(0,n.jsx)(p.Z,{item:e},e.id)})),Z&&(0,n.jsxs)("div",{className:"text-center py-10",children:[(0,n.jsx)("span",{className:"flex justify-center my-auto text-gray-500 font-semibold text-4xl",children:(0,n.jsx)(d.c77,{})}),(0,n.jsx)("h2",{className:"font-medium font-serif text-sm pt-2 text-gray-600",children:"No Item Added Yet!"})]})]}),(0,n.jsx)("div",{className:"flex items-center mt-4 py-4 lg:py-4 text-sm w-full font-semibold text-heading last:border-b-0 last:text-base last:pb-0",children:(0,n.jsx)("form",{className:"w-full",children:b.couponCode?(0,n.jsxs)("span",{className:"bg-emerald-50 px-4 py-3 leading-tight w-full rounded-md flex justify-between",children:[" ",(0,n.jsx)("p",{className:"text-emerald-600",children:"Coupon Applied "})," ",(0,n.jsx)("span",{className:"text-red-500 text-right",children:b.couponCode})]}):(0,n.jsxs)("div",{className:"flex flex-col sm:flex-row items-start justify-end",children:[(0,n.jsx)("input",{ref:$,type:"text",placeholder:"Input your coupon code",className:"form-input py-2 px-3 md:px-4 w-full appearance-none transition ease-in-out border text-input text-sm rounded-md h-12 duration-200 bg-white border-gray-200 focus:ring-0 focus:outline-none focus:border-emerald-500 placeholder-gray-500 placeholder-opacity-75"}),(0,n.jsx)("button",{onClick:S,className:"md:text-sm leading-4 inline-flex items-center cursor-pointer transition ease-in-out duration-300 font-semibold text-center justify-center border border-gray-200 rounded-md placeholder-white focus-visible:outline-none focus:outline-none px-5 md:px-6 lg:px-8 py-3 md:py-3.5 lg:py-3 mt-3 sm:mt-0 sm:ml-3 md:mt-0 md:ml-3 lg:mt-0 lg:ml-3 hover:text-white hover:bg-emerald-500 h-12 text-sm lg:text-base w-full sm:w-auto",children:"Apply"})]})})}),(0,n.jsxs)("div",{className:"flex items-center py-2 text-sm w-full font-semibold text-gray-500 last:border-b-0 last:text-base last:pb-0",children:["Subtotal",(0,n.jsxs)("span",{className:"ml-auto flex-shrink-0 text-gray-800 font-bold",children:["$",O.toFixed(2)]})]}),(0,n.jsxs)("div",{className:"flex items-center py-2 text-sm w-full font-semibold text-gray-500 last:border-b-0 last:text-base last:pb-0",children:["Shipping Cost",(0,n.jsxs)("span",{className:"ml-auto flex-shrink-0 text-gray-800 font-bold",children:["$",C.toFixed(2)]})]}),(0,n.jsxs)("div",{className:"flex items-center py-2 text-sm w-full font-semibold text-gray-500 last:border-b-0 last:text-base last:pb-0",children:["Discount",(0,n.jsxs)("span",{className:"ml-auto flex-shrink-0 font-bold text-orange-400",children:["$",w.toFixed(2)]})]}),(0,n.jsx)("div",{className:"border-t mt-4",children:(0,n.jsxs)("div",{className:"flex items-center font-bold font-serif justify-between pt-5 text-sm uppercase",children:["Total cost",(0,n.jsxs)("span",{className:"font-serif font-extrabold text-lg",children:[" ","$",Math.round(M),".00"]})]})})]})})]})})})})},E=a()((function(){return Promise.resolve(k)}),{ssr:!1})},1722:function(e,t,s){"use strict";var n=s(71),r={getAllCoupons:function(){return n.Z.get("/coupon")}};t.Z=r},3768:function(e,t,s){"use strict";var n=s(71),r={addOrder:function(e,t){return n.Z.post("/order/add",e,t)},createPaymentIntent:function(e){return n.Z.post("/order/create-payment-intent",e)},getOrderByUser:function(e){var t=e.page,s=void 0===t?1:t,r=e.limit,i=void 0===r?8:r;return n.Z.get("/order?limit=".concat(i,"&page=").concat(s))},getOrderById:function(e,t){return n.Z.get("/order/".concat(e),t)}};t.Z=r}},function(e){e.O(0,[260,609,556,230,530,275,61,68,388,774,888,179],(function(){return t=5248,e(e.s=t);var t}));var t=e.O();_N_E=t}]);